/*!
 * the xup core framework
 * @copyright xup.to
 */
"use strict";
/*! https://developer.mozilla.org/en/JavaScript/Reference/ */
(function(){if(typeof Function.prototype.bind=="function"){return}function h(l,k){for(var m in k){if((m in k)&&typeof l[m]==="undefined"){l[m]=k[m]}}}h(Object,{keys:function j(m){if(m!==Object(m)){throw new TypeError("Object.keys called on non-object")}var k=[],l;for(l in m){if(Object.prototype.hasOwnProperty.call(m,l)){k.push(l)}}return k}});h(Array,{isArray:function d(k){return k instanceof Array}});h(Array.prototype,{filter:function a(p,o){for(var n=0,m=[],k=this.length;n<k;++n){if(p.call(o,this[n],n,this)){m.push(this[n])}}return m},forEach:function e(o,n){for(var m=0,k=this.length>>>0;m<k;++m){o.call(n||null,this[m],m,this)}},indexOf:function i(n){for(var m=0,k=this.length>>>0;m<k;++m){if(n===this[m]){return m}}return -1},reduce:function g(){if(this===void 0||this===null){throw new TypeError()}var o=Object(this),l=o.length>>>0,n=0,m;if(typeof fun!="function"){throw new TypeError()}if(l==0&&arguments.length==1){throw new TypeError()}if(arguments.length>=2){m=arguments[1]}else{do{if(n in o){m=o[n++];break}if(++n>=l){throw new TypeError()}}while(true)}while(n<l){if(n in o){m=fun.call(undefined,m,o[n],n,o)}n++}return m},every:function c(l){if(this===void 0||this===null){throw new TypeError()}var o=Object(this);var k=o.length>>>0;if(typeof l!=="function"){throw new TypeError()}var n=arguments[1];for(var m=0;m<k;m++){if(m in o&&!l.call(n,o[m],m,o)){return false}}return true},some:function(l){if(this==null){throw new TypeError()}var o=Object(this);var k=o.length>>>0;if(typeof l!="function"){throw new TypeError()}var n=arguments[1];for(var m=0;m<k;m++){if(m in o&&l.call(n,o[m],m,o)){return true}}return false}});h(String.prototype,{trim:function b(){return this.replace(/^\s+/).replace(/\s+$/)}});h(Function.prototype,{bind:function f(l){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}var k=Array.prototype.slice,p=k.call(arguments,1),o=this,m=function(){},n=function(){return o.apply(this instanceof m?this:l||window,p.concat(k.call(arguments)))};m.prototype=this.prototype;n.prototype=new m();return n}})})();var X=(function(n){var O=/^#([\w-]+)$/,A=/^\.([\w-]+)$/,v=/^([\w-]+)$/,a=/<!--.*?-->/g,J=/<(\w+)[^>]*>/;var V={tbody:"table",tfoot:"table",thead:"table",tr:"tbody",th:"tr",td:"tr","*":"div"};var K=(function(){var aa=document.createElement("tbody");aa.innerHTML="<tr><td></td></tr>";var ab=!!(aa.firstChild&&aa.firstChild.firstChild);aa=null;return ab})();var s=Array.prototype.slice,N=Array.prototype.every,k=Array.prototype.filter,f=Array.prototype.concat;(function(){if(N.toString().indexOf("[native code]")>-1){return}s=function(){var ab=this.length,aa=new Array(ab);while(ab--){aa[ab]=this[ab]}return aa.slice.apply(aa,arguments)};N=function(aa){return s.call(this).every(aa)}})();function e(ab){var aa=((ab=ab.trim().replace(a,"")).match(J)||[0,"*"])[1].toLowerCase();if(ab.match(/^\s*$/)){return null}if(!V[aa]){aa="*"}var ae,ac,ad;if(aa==="tr"&&!K){ae=document.createElement("table");ae.innerHTML="<tbody>"+ab+"</tbody>";ac=ae.getElementsByTagName("tbody")}else{ac=document.createElement(V[aa]);ac.innerHTML=ab}ad=(ac.firstChild.nextSibling)?s.call(ac.childNodes).map(function(af){return af.cloneNode(true)}):ac.firstChild.cloneNode(true);ac=ae=n;return ad}function H(aa){return Array.isArray(aa)}function r(aa){return typeof aa==="string"||aa instanceof String}function E(aa){return x(aa)&&aa instanceof Element}function D(aa){return typeof aa==="function"}function C(aa){return(x(aa)&&(aa instanceof NodeList||aa instanceof HTMLCollection))||(!D(aa)&&typeof aa.length==="number")}function y(aa){return(x(aa)&&(aa instanceof NodeList||aa instanceof HTMLCollection))||(!D(aa)&&typeof aa.length==="number"&&N.call(aa,E))}function q(aa){return x(aa)&&aa instanceof d}function x(aa){return !H(aa)&&typeof aa==="object"}(function(){if(typeof document.documentElement.setAttribute==="function"){return}var aa=D;function ab(ac,ad){return ac&&typeof ac[ad]!=="undefined"}D=function(ac){return aa(ac)||(ab(ac,"call")&&ab(ac,"apply"))}})();(function(){if(typeof document.querySelectorAll("_xjs_")!=="function"){return}var ad=x,ab=C,aa=y;function ac(ae){return(ae instanceof NodeList||ae instanceof HTMLCollection)}x=function(ae){return ad(ae)||ac(ae)};C=function(ae){return ac(ae)||(!D(ae)&&typeof ae.length==="number")};y=function(ae){return ac(ae)||N.call(ae,E)}})();function j(ac,aa,ab){return aa["querySelector"+(ab?"All":"")](ac)}if(typeof window.Sizzle!=="undefined"){(function(){var aa=/:(?:not|(?:nth|only|last)-child)/;var ab=j;j=function(af,ac,ae){if(!(aa.test(af))){return ab(af,ac,ae)}var ad=Sizzle(af,ac);return ad.length?(ae?ad:ad[0]):null}})()}function G(ab,aa){if(this instanceof G){return new d(document.createElement(ab)).attr(aa||{})}if(q(ab)||ab===w||ab===u){return ab}if(x(ab)&&ab instanceof Event){return new G.Event(ab)}if(!r(ab)){if(ab===null||ab===n){return ab}if(ab===window){return w}if(ab===document){return u}if(E(ab)||y(ab)){return new d(ab)}if(D(ab)){return u.ready(ab)}return ab}var ac=ab.substr(0,1);if(ac==="@"&&D(aa)){return G.action(ab,aa)}if(ac==="<"||J.test(ab)){var ad=e(ab);return ad?new d(ad):null}return W(ab,aa,false)}function W(ac,aa,ab){ab=(typeof ab==="undefined")||!!ab;if(!aa){aa=document}if(aa instanceof d&&!(aa=aa[0])){return null}var ad;if(aa===document&&O.test(ac)){ad=document.getElementById(RegExp.$1)}else{if(aa.getElementsByClassName&&A.test(ac)){ad=aa.getElementsByClassName(RegExp.$1)}else{if(v.test(ac)){if(aa===document&&ac==="body"&&document.body){ad=document.body}else{ad=aa.getElementsByTagName(ac)}}else{ad=j(ac,aa,ab)}}}return !!ad?new d((ab)?(!E(ad)&&C(ad))?ad:[ad]:(!E(ad)&&C(ad))?ad[0]:ad):null}G.all=W;var w={on:function F(aa,ad,ac,ab){G.Event.on(window,aa,ad,ac,ab);return this},off:function P(aa,ac,ab){G.Event.off(window,aa,ac,ab);return this},ready:function g(aa){return this.on("load",function(ab){aa(G,W,ab)})}};var u={on:function F(aa,ad,ac,ab){G.Event.on(document,aa,ac,ad,ab);return this},off:function P(aa,ac,ab){G.Event.off(document,aa,ac,ab);return this},fire:function t(ac,aa,ab){G.Event.fire(document,ac,aa,ab);return this},ready:function(aa){return this.on("dom:loaded",function(ab){aa(G,W,ab)})},width:function b(){return document.documentElement.clientWidth},height:function c(){return document.documentElement.clientHeight},scroll:function T(){var aa=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,ab=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;return G.extend([aa,ab],{left:aa,top:ab})},offset:function(){var aa=this.scroll();return{top:aa.top,left:aa.left,width:this.width(),height:this.height()}}};G.slice=s;G.every=N;G.defer=function h(ab){var aa=s.call(arguments,1);return setTimeout(function(){ab.apply(null,aa)},10)};G.each=function U(ag,ae,ab){if(D(ag)||!D(ae)){throw new TypeError}if(ab){ae=ae.bind(ab)}if(C(ag)){for(var ad=0,aa=ag.length;ad<aa;++ad){if(false===ae(ag[ad],ad,ag)){break}}return}var af=Object.keys(ag);for(var ad=0,ac,aa=af.length;ad<aa;++ad){if(false===ae(ag[ac=af[ad]],ac,ag)){break}}};G.filter=function I(ab,ac,aa){if(!C(ab)){ab=[ab]}aa=!!aa;return k.call(ab,function(ae,ad){return aa!==ac(ae,ad)})};G.extend=function m(aa){s.call(arguments,1).forEach(function(ab){G.each(ab,function(ad,ac){aa[ac]=ab[ac]})});return aa};G.curry=function l(ab){if(!D(ab)){throw new TypeError}if(!arguments.length){return ab}var aa=s.call(arguments,1);return function(){var ac=aa.concat(s.call(arguments));return ab.apply(this,ac)}};G.wrap=function S(ab,aa){return function(){var ac=s.call(arguments,0);ac.unshift(ab.bind(this));return aa.apply(this,ac)}};(function(ag){var ai,ae,aa,ad=/\/([^\/]+)$/,ab=/\baction=([^&]+)/;function ah(aj,ac){if(aj){ad=aj}if(ac){ab=ac}ai=(ag.location.pathname.match(/(\/)$/)||ag.location.pathname.match(ad)||["",""])[1].toLowerCase();ae=(ag.location.search.match(ab)||["","index"])[1].toLowerCase();aa=ai+":"+ae}function af(ak,al){if(r(ak)){ak=[ak]}ak=ak.map(function(an){return an.substring(1)});for(var aj=0,ac=ak.length;aj<ac;++aj){var am=ak[aj];if((am===aa||(am.indexOf(":")===-1&&am===ae))||(ai==="/"&&am.indexOf(":")>-1&&am.split(":")[1]===ae)){u.ready(al)}}}ah();G.action=af;G.action.init=ah})(window);function Q(ab,ae,ad){if(!ae){ae={}}if(!ad){ad=function(ag,af,ah){ah[ag]=af}}for(var ac=0,aa=ab.length;ac<aa;++ac){G.each(D(ab[ac])?ab[ac].prototype:ab[ac],function(ag,af){return ad(af,ag,ae)})}return ae}G.mixin=function Z(aa){Q(s.call(arguments,1),aa.prototype,function(ac,ab,ad){if(ad[ac]===n){ad[ac]=ab}});return aa};G.inherit=function o(aa){return Q(s.call(arguments,1),G.extend({},aa.prototype))};G.noop=function Y(){};G.isX=q;G.isArray=H;G.isString=r;G.isObject=x;G.isElement=E;G.isFunction=D;G.isArrayLike=C;function d(ac,aa){if(E(ac)||!C(ac)){ac=[ac]}var ab=this.length=ac.length;for(var ad=0;ad<ab;++ad){this[ad]=ac[ad]}if(aa){this.selector=aa}}G.fn=d.prototype={constructor:d,get:function(aa){return(!this[aa])?null:G(this[aa])},push:function R(){s.call(arguments).forEach(function(aa){if(aa instanceof d){aa.forEach(function(ab){this[this.length++]=ab},this);return true}if(!E(aa)){throw new TypeError(aa)}this[this.length++]=aa},this);return this.length},concat:function z(ab){for(var ac=0,aa=ab.length;ac<aa;++ac){this[this.length++]=ab[ac]}return this},equals:function B(ab,aa){if(arguments.length===1){aa=0}return this[aa]&&this[aa]===ab},forEach:Array.prototype.forEach,each:function U(ab,aa){G.each(this,ab,aa);return this},prop:function p(ab,aa){if(arguments.length===1){return this[0][ab]}return this.each(function(ac){ac[ab]=aa})},defer:function h(){var aa=s.call(arguments,0),ab=aa.shift();G.defer(function(){this[ab].apply(this,aa)}.bind(this));return this},pluck:function M(ab){var aa=[];this.each(function(ac){aa.push(ac[ab])});return aa},invoke:function L(ab){var aa=s.call(arguments,1);return this.each(function(ac){D(ac[ab])&&ac[ab].apply(ac,aa)})}};G.fn.extend=function m(){s.call(arguments).forEach(function(ab,aa){G.extend(d.prototype,ab)})};G.fn.reverse=(function(){try{var aa=Array.prototype.reverse;if(aa.call({length:2,0:1,1:2})[0]===2){return aa}}catch(ab){}return function(){var ac=[];this.forEach(function(ad){ac.push(ad)});ac.reverse().forEach(function(ae,ad){this[ad]=ae},this);return this}})();G.noConflict=function i(){if(G._$){window.$=G._$}return G};return G})();X._$=window.$;window.X=window.$=X;
/*! XUP -> DOM */
(function(F,h){var K=0,n=2;var a={before:function(ac,ad){ac.parentNode.insertBefore(ad,ac)},top:function(ac,ad){ac.insertBefore(ad,ac.firstChild)},bottom:function(ac,ad){ac.appendChild(ad)},after:function(ac,ad){ac.parentNode.insertBefore(ad,ac.nextSibling)},tags:{TABLE:["<table>","</table>",1],TBODY:["<table><tbody>","</tbody></table>",2],TR:["<table><tbody><tr>","</tr></tbody></table>",3],TH:["<table><tbody><tr>","</tr></tbody></table>",3],TD:["<table><tbody><tr><td>","</td></tr></tbody></table>",4],SELECT:["<select>","</select>",1],LI:["<ul>","</ul>",1],DT:["<dl>","</dl>",1],DD:["<dl>","</dl>",1]}};var w=F.slice,N=Array.prototype.indexOf,e=h.documentElement;function O(ac){var ad=ac.nodeName.toLowerCase();if(ac.hasAttribute("id")){ad+="#"+ac.getAttribute("id")}if(ac.className!==""){ad+="."+String(ac.className).replace(/\s+/,".")}return ad}function q(ac){return ac&&typeof ac.nodeType!=="undefined"&&ac.nodeType===11}function aa(ac){return ac.firstElementChild}function T(ac){return ac.nextElementSibling}function Z(ac){return ac.previousElementSibling}function J(ac){return ac.parentElement}if(!e.firstElementChild){aa=function(ac){var ad=ac.firstChild;if(!ad){return null}if(!F.isElement(ad)){return T(ad)}return ad};T=function(ad){var ac=ad.nextSibling;while(ac&&ac.nodeType!==1&&ac.nextSibling){ac=ac.nextSibling}return ac};Z=function(ad){var ac=ad.previousSibling;while(ac&&ac.nodeType!==1&&ac.previousSibling){ac=ac.previousSibling}return ac}}if(!e.parentElement){J=function(ad){var ac=ad.parentNode;while(ac&&ac.nodeType!==1){ac=ac.parentNode}return ac}}var g=(function(){if(typeof window.Sizzle!=="undefined"){return function(ai,ah){return Sizzle.matchesSelector(ah,ai)}}var ag=["moz","webkit","ms","o"],af=e.matchesSelector;for(var ae=0,ac=ag.length;!af&&ae<ac;++ae){af=e[ag[ae]+"MatchesSelector"]}if(!af){return function(ak,ai){var ah=false;if(!ai.parentNode){ah=ai.style.display;ai.style.display="none";h.body.appendChild(ai)}var aj=w.call(ai.parentNode.querySelectorAll(ak),0).indexOf(ai)!==-1;if(ah!==false){h.body.removeChild(ai);ai.style.display=ah}return aj}}var ad=(function(){var ai=h.createElement("div"),ah=ai.document&&ai.document.nodeType===11;ai=null;return ah})();return function(ak,ai){ak=ak.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");try{var ah=af.call(ai,ak);if(!ad||ai.document.nodeType!==11){return ah}}catch(aj){}if(ad){var am=ai.cloneNode(true),al=h.createDocumentFragment();al.appendChild(am);var ah=af.call(am,ak);am=al=null;return ah}return false}})();var Y={};F.fn.extend({attr:function p(ad,ac){if(arguments.length===2){if(ac===null){return this.each(function(ae){ae.removeAttribute(ad)})}return this.each(function(ae){ae.setAttribute(ad,ac)})}if(typeof ad=="string"){if(ad==="value"&&["INPUT","TEXTAREA"].indexOf(this[0].nodeName)>-1){return this[0].value}return this[0].getAttribute(ad)}return this.each(function(ae){F.each(ad,function(ag,af){ae.setAttribute(af,ag)})})},style:function V(ad,ac){if(arguments.length===2){if(ac===null||ac===""){return this.each(function(ae){ae.style.removeProperty(ad)})}return this.each(function(ae){ae.style.setProperty(ad,ac,"")})}if(typeof ad=="string"){if(ad.indexOf(":")>-1){return this.each(function(ae){ae.style.cssText+=";"+ad})}var ac;if(!!(ac=this[0].style.getPropertyValue(ad))){return ac}return h.defaultView.getComputedStyle(this[0],null).getPropertyValue(ad)}F.each(ad,function(af,ae){this.style(ae,af)},this);return this},hide:function W(){return this.style("display:none")},show:function L(){return this.each(function(af){af=F(af);if(af.style("display")==="none"){af.style("display",null);if(af.style("display")==="none"){var ad=af[0].nodeName.toLowerCase();if(typeof Y[ad]==="undefined"){var ae=h.createElement(ad);h.body.appendChild(ae);var ac=F(ae).style("display");h.body.removeChild(ae);ae=null;Y[ad]=ac}af.style("display",Y[ad])}}})},toggle:function B(ac){return this.each(function(ad){ad=F(ad);ad[(ac||ad.style("display")==="none")?"show":"hide"]()})},data:function ab(ad,ac){if(arguments.length===2){return this.each(function(ae){ae.dataset[ad]=ac})}return this[0].dataset[ad]},find:function Q(ac){return F.all(ac,this[0])},identify:function s(){var ac;if((ac=this.attr("id"))){return ac}do{ac="_anonymus_element_"+(K++)}while(h.getElementById(ac));this[0].setAttribute("id",ac);return ac},wrap:function U(ac){ac=F(ac)[0];return this.each(function(ae){var ad=ac.cloneNode(true);if(ae.parentNode&&!q(ae.parentNode)){ae.parentNode.replaceChild(ad,ae)}ad.appendChild(ae)})},unwrap:function f(){return this.each(function(ad){var ac=ad.parentNode;ac.parentNode.replaceChild(ad.cloneNode(true),ac)})},remove:function A(ac){if(!ac){this.purge()}return this.each(function(ad){if(ad.parentNode&&!(ad.document&&ad.document.nodeType===11)){ad.parentNode.removeChild(ad)}})},replace:function z(ac){if(!this.length){return this}ac=F(ac)[0];this[0].parentNode.replaceChild(ac,this[0]);this[0]=ac;return this},clear:function M(){return this.each(function(ac){F(ac).childs().remove();ac.innerHTML=""})},childs:function t(ad){if(ad){return F.all("*",this[0])}var ac=[],ae=aa(this[0]);while(ae){ac.push(ae);ae=T(ae)}return F(ac)},first:function m(ac){if(!ac){return F(aa(this[0]))}return F(ac,this[0])},text:function C(ac){if(arguments.length===1){return this.each(function(ad){ad.textContent=ac})}return this[0].textContent},html:function D(ac){if(arguments.length===1){return this.each(function(ad){ad.innerHTML=ac})}return this[0].innerHTML},matches:function b(ac){return g(ac,this[0])},filter:function I(ag,ad){if(F.isString(ag)){switch(ag.toLowerCase()){case":even":return this.filter(function(ai,ah){return ah%2===0});case":odd":return this.filter(function(ai,ah){return ah%2!==0});case":indom":return this.filter(function(ah){return ah.parentNode&&!q(ah.parentNode)});default:return this.filter(function(ah){return g(ag,ah)})}}var ae=[];if(ad){ag=ag.bind(ad)}for(var af=0,ac=this.length;af<ac;++af){if(false!==ag(this[af],af,this)){ae.push(this[af])}}return F(ae)},indexOf:function r(ae){if(F.isString(ae)){for(var ad=0,ac=this.length;ad<ac;++ad){if(g(ae,this[ad])){return ad}}return -1}return N.call(this,ae)},path:function S(){var ae=F(this[0]),ad=[O(ae[0])],ac=e.nodeName;do{ae=ae.up();ad.push(O(ae[0]))}while(ae[0].nodeName!==ac);return ad.reverse().join(" > ")},parent:function l(){var ac=this[0];if(q(ac.parentNode)){return this}return(ac.parentNode)?F(ac.parentNode):this},up:function H(ac){if(arguments.length===0){return this.parent()}if(typeof ac=="number"){var ad=this[0];while(ac--&&(ad=J(ad))){}return ad?F(ad):null}var ad=J(this[0]);while(ad&&!g(ac,ad)){ad=J(ad)}return ad?F(ad):null},down:function k(ae,ac){if(arguments.length===0){return this.first()}if(!(ac&&--ac)){return F(ae,this[0])}var ad=F.all(ae,this[0]);return ad&&ad[ac]?F(ad[ac]):null},prev:function E(ad){var ac=Z(this[0]);if(!ac){return null}if(arguments.length===0){return F(ac)}if(typeof ad==="number"){while(--ad&&ac){ac=Z(ac)}return(ad>0)?F(ac):null}while(!g(ad,ac)){if(!(ac=Z(ac))){return null}}return F(ac)},next:function d(ad){var ac=T(this[0]);if(!ac){return null}if(arguments.length===0){return F(ac)}if(typeof ad==="number"){while(--ad&&ac){ac=T(ac)}return(ad>0)?F(ac):null}while(!g(ad,ac)){if(!(ac=T(ac))){return null}}return F(ac)},insert:function j(ac,ad){ad=(ad||"bottom").toLowerCase();if(F.isString(ac)){return this.each(function(ae){F(ae).insertText(ac,ad)})}return this.each(function(ae){F(ae).insertNode(ac,ad)})},insertText:function u(af,ah){var ag=h.createElement("div"),ae;if(ah==="before"||ah==="after"){ae=a.tags[(this[0].parentNode||this[0]).nodeName.toUpperCase()]}else{ae=a.tags[this[0].nodeName.toUpperCase()]}if(!!ae){ag.innerHTML="&nbsp;"+ae[0]+af+ae[1];ag.removeChild(ag.firstChild);for(var ad=ae[2];ad--;){ag=ag.firstChild}}else{ag.innerHTML=af}var ac=w.call(ag.childNodes,0);ag=null;return this.insertNode(ac,ah)},insertNode:function y(ae,ag){var af=a[ag]||a.bottom;if(!F.isArrayLike(ae)){af(this[0],ae);return this}if(ag==="top"||ag==="after"){ae.reverse()}for(var ad=0,ac=ae.length;ad<ac;++ad){af(this[0],ae[ad])}return this},update:function G(ad,ac){if(!ac){this.childs(true).purge()}this.forEach(function(ae){ae.innerHTML=""});if(ad){return this.insert(ad)}return this},append:function P(ac){ac=F(ac)[0];return this.each(function(ad){if(ad.parentNode&&!q(ad.document)){ad=F(ad).clone(true,true)[0]}ac.appendChild(ad)})},clone:function v(ad,ac){var ae=F(this[0].cloneNode(!!ad));if(ac&&ae.attr("id")){ae.attr("id",null)}return ae},setClass:function i(ac){return this.each(function(ad){ad.className=ac})},removeClass:function o(ac){return this.each(function(ad){ad.classList.remove(ac)})},addClass:function x(ac){return this.each(function(ad){ad.classList.add(ac)})},hasClass:function R(ac){return this[0].classList.contains(ac)},toggleClass:function c(ac){this[0].classList.toggle(ac);return this}});if(typeof e.classList=="undefined"){F.fn.extend({removeClass:function o(ac){return this.each(function(ad){ad.className=(ad.className||"").replace(new RegExp("\\b"+ac+"\\b","g"),"")})},addClass:function x(ac){return this.each(function(ad){ad.className+=" "+ac})},hasClass:function R(ac){return(new RegExp("\\b"+ac+"\\b")).test(this[0].className||"")},toggleClass:function c(ac){return(this.hasClass(ac))?this.removeClass(ac):this.addClass(ac)}})}if(typeof e.dataset==="undefined"){F.fn.data=function ab(ad,ac){if(arguments.length===2){return this.attr("data-"+ad,ac)}return this.attr("data-"+ad)}}(function(){function ac(af,ag){F(af).purge();af.innerHTML="";af.appendChild(h.createTextNode(ag))}function ad(af){var ag="";if(af.nodeType===3){ag+=af.nodeValue}else{ag+=ad(af.firstChild)}return ag+ad(af.nextSibling)}if(typeof e.textContent==="undefined"){F.fn.text=function ae(af){if(arguments.length===1){return this.each(function(ag){ac(ag,af)})}return ad(this[0].firstChild)}}})();(function(){function ac(ag){switch((ag||"bottom").toLowerCase()){case"before":return"beforebegin";case"top":return"afterbegin";case"after":return"afterend";default:return"beforeend"}}if(typeof e.insertAdjacentHTML==="function"){F.fn.insertText=function af(ag,ah){this[0].insertAdjacentHTML(ac(ah),ag);return this}}if(typeof e.insertAdjacentElement=="function"){var ae=F.fn.insertNode;F.fn.insertNode=function ad(ai,aj){if(ai.nodeType===3){return ae.call(this,ai,aj)}aj=ac(aj);if(!F.isArrayLike(ai)){this[0].insertAdjacentElement(aj,ai);return this}for(var ah=0,ag=ai.length;ah<ag;++ah){this[0].insertAdjacentElement(aj,ai[ah])}return this}}})();if(typeof e.style.getPropertyValue!=="function"){(function(){function ac(ae){return ae.replace(/[_-](.)/g,function(af){return af[1].toUpperCase()})}F.fn.style=function ad(af,ae){if(arguments.length===2){if(ae===null||ae===""){return this.each(function(ag){ag.style[ac(af)]=""})}return this.each(function(ag){ag.style.cssText+=";"+af+":"+ae})}if(typeof af=="string"){if(af.indexOf(":")>-1){return this.each(function(ag){ag.style.cssText+=";"+af})}var ae;af=ac(af);if(!!(ae=this[0].style[af])){return ae}return this[0].currentStyle[af]}F.each(af,function(ah,ag){this.style(ag,ah)},this);return this}})()}})(X,document);
/*! XUP -> DOM/Form */
(function(f,g){var a={getText:function c(t){return t.text},setText:function s(t,u){t.text=u}};(function(){var w=document.createElement("option"),t=typeof w.text!=="undefined";w=null;if(t===true){return}a.getText=function u(x){return x.innerHTML};a.setText=function v(x,y){x.innerHTML=y}})();var i={select:function p(x){if(x.disabled){return}if(!x.hasAttribute("multiple")){return this.option(x.options[x.selectedIndex])}var w=x.options,v=[];for(var u=0,t=w.length;u<t;++u){if(w[u].selected){v.push(this.option(w[u]))}}return v},option:function k(t){if(t.disabled){return}return t.hasAttribute("value")?t.value:a.getText(t)},input:function j(t){if(t.disabled){return}switch(t.type.toLowerCase()){default:return t.value;case"checkbox":case"radio":return this.checkbox(t)}},button:function b(t){if(t.disabled){return}return t.innerHTML},checkbox:function m(t){if(t.disabled){return}return t.checked?t.value:g},textarea:function o(t){if(t.disabled){return}return t.value}};var h={select:function p(x,z){if(x.disabled||x.readOnly){return}var y=x.options;if(x.hasAttribute("multiple")&&f.isArray(z)){for(var w=0,t=y.length;w<t;++w){if(y[w].disabled||y[w].readOnly){continue}var u=i.option(y[w]);if(z.indexOf(u)>-1){y[w].selected=true}}return}for(var w=0,t=y.length;w<t;++w){if(i.option(y[w])===z){x.selectedIndex=w;break}}},option:function k(t,u){if(t.disabled||t.readOnly){return}if(!t.hasAttribute("value")){a.setText(t,u);return}t.value=u},input:function j(t,u){if(t.disabled||t.readOnly){return}t.value=u},button:function b(t,u){t.innerHTML=u}};h.textarea=h.input;var d=Object.keys(i),n=Object.keys(h);var q=(function(){var t=document.createElement("form"),u=t!==t.elements;t=null;return u})();f.fn.extend({value:function r(u){if(arguments.length===0){var v=this[0],t=v.nodeName.toLowerCase();return d.indexOf(t)>-1?i[t](v):g}return this.each(function(x){var w=x.nodeName.toLowerCase();if(w==="form"){if(q){f(x.elements).value(u)}else{f.all("input,select,button,textarea",x).value(u)}return false}if(n.indexOf(w)>-1){h[w](x,u)}})},collect:function l(){var t={},u=0;this.find("input,select,button,textarea").each(function(x){var y,v=x.nodeName.toLowerCase();if((y=i[v](x))!==g){var w=(v==="option")?f(x).up("select").prop("name"):x.name;if(!w){w="_unnamed_"+(u++)}t[w]=y}});return t},disable:function e(u){u=arguments.length?!!u:true;var t=["input","select","button","textarea"];if(this[0].nodeName.toLowerCase()==="form"){return this.find(t.join(",")).each(function(v){v.disabled=u})}return this.each(function(w){var v=w.nodeName.toLowerCase();if(t.indexOf(v)>-1){w.disabled=u}})}})})(X);
/*! XUP -> DOM/Event */
(function(h,i){var m=typeof window.addEventListener==="undefined";var s=("onmouseenter" in document.documentElement);var b=[[],[]];function j(F){if(F===window){return 0}if(F===document){return 1}return F._xeid||(F._xeid=b.length)}function z(F,G){if(!h.isString(F)){h.each(F,G)}else{F.split(/\s+/).forEach(G)}}function e(F,G){return G}function y(G,H,F){return function(K){var J=h(G).find(H);if(J){var I=h.extend({delegate:G},K);return F.call(J[0],I)}}}function q(I,F,H,J,G){var L=j(I),K;if(b[L]===i){b[L]=[]}K=b[L];if(typeof J==="boolean"){G=J,J=""}else{if(typeof G==="undefined"){G=false}}z(F,function(O){if(O==="dom:loaded"&&I===document&&h.loaded===true){return H.call(I)||true}var N=J&&y(I,J,H),P=N||H;if(O.indexOf(":")>-1){P=e(O,P)}var M=d(I,O,P);K.push({e:O,fn:H,proxy:M,sel:J,capt:G,idx:K.length});r(I,O,M,J,G)})}function d(G,F,H){switch(F){case"hover":F="mouseenter";case"mouseenter":case"mouseleave":if(s){break}H=h.wrap(H,function(K,I){if(!I){I=window.event}var J=f(I,F);while(J){if(J===G){return false}J=J.parentNode}return K(I)})}return function(I){if(!I){I=window.event}if(H.call(G,I)===false){l(I)}}}function f(G,F){return G.relatedTarget}function l(F){F.stopPropagation()}function t(J,F,H,I,G){if(!b[J]){return[]}return b[J].filter(function(K){return K&&(!F||K.e===F)&&(!H||K.fn===H)&&(!I||K.sel===I)&&(K.capt===G)})}function D(I,F,H,J,G){if(G===i){G=false}var K=j(I);z(F||"",function(L){t(K,L,H,J,G).forEach(function(M){delete b[K][M.idx];u(I,M.e,M.proxy,G)})})}function p(F){if(!s){switch(F){case"hover":case"mouseenter":return"mouseover";case"mouseleave":return"mouseout"}}return F}function a(H,G,I,F){if(H===window){throw"WINDOW can fire events, but IE8 can't ..."}if(typeof F==="undefined"){F=true}var J=document.createEvent("Events");J.initEvent(p(G),F,true);J.eventName=G;J.data=I;H.dispatchEvent(J)}function r(I,F,H,G){I.addEventListener(p(F),H,G||false)}function u(I,F,H,G){I.removeEventListener(p(F),H,G||false)}if(m){f=function(G,F){switch(F){case"hover":case"mouseover":case"mouseenter":return G.fromElement;case"mouseout":case"mouseleave":return G.toElement}return null};l=function(F){F.cancelBubble=true};e=function(F,G){return function(H){if(H.eventName!==F){return false}return G.call(this,H)}};r=function(H,F,G){if(F.indexOf(":")>-1){H.attachEvent("ondataavailable",G);H.attachEvent("onlosecapture",G);return}H.attachEvent("on"+p(F),G)};u=function(H,F,G){if(F.indexOf(":")>-1){H.detachEvent("ondataavailable",G);H.detachEvent("onlosecapture",G);return}H.detachEvent("on"+p(F),G)};a=function(H,G,I,F){if(H===window){throw"WINDOW can not fire events"}if(H===document){H=document.documentElement}if(typeof F==="undefined"){F=true}var J=document.createEventObject();J.eventType=F?"ondataavailable":"onlosecapture";J.eventName=G;J.data=I;H.fireEvent(J.eventType,J)}}h.fn.extend({on:function n(F,I,H,G){if(h.isFunction(I)){return this.each(function(J){q(J,F,I,"",G)})}return this.each(function(J){q(J,F,H,I,G)})},off:function C(F,I,H,G){if(h.isFunction(I)){return this.each(function(J){D(J,F,I,"",G)})}return this.each(function(J){D(J,F,H,I,G)})},fire:function B(G,H,F){return this.each(function(I){a(I,G,H,F)})},purge:function o(){return this.each(function(F){D(F);h(F).childs().purge()})}});h.Event=function E(F){this.event=F};h.Event.prototype={constructor:h.Event,element:function c(){var G=this.event.target||this.event.srcElement,F=this.event.eventName;var H=this.event.currentTarget;if(H&&H.tagName){if(F==="load"||F==="error"||(F==="click"&&H.tagName.toLowerCase()==="input"&&H.type==="radio")){G=H}}if(G.nodeType===3){G=G.parentNode}return h(G)},stop:function w(){this.event.preventDefault();this.event.stopPropagation();this.stopped=true;return this},pointer:function v(){var F=this.event.touches?this.event.touches[0]:this.event;return{x:F.pageX,y:F.pageY}}};if(m){h.Event.prototype.stop=function w(){this.event.cancelBubble=true;this.event.returnValue=false;this.stopped=true;return this};h.Event.prototype.pointer=function v(){var G=document.documentElement,F=document.body;return{x:(event.clientX+(G.scrollLeft||F.scrollLeft)-(G.clientLeft||0)),y:(event.clientY+(G.scrollTop||F.scrollTop)-(G.clientTop||0))}}}h.extend(h.Event,{on:function n(J,F,I,H,G){if(h.isFunction(I)){q(J,F,I,"",G);return}q(J,F,H,I,G)},off:function C(J,F,I,H,G){if(h.isFunction(I)){D(J,F,I,"",G);return}D(J,F,H,I,G)},fire:a});function x(){if(h.loaded===true){return}h.loaded=true;h(document).fire("dom:loaded")}if(!m){document.addEventListener("DOMContentLoaded",x,false);return}document.attachEvent("onreadystatechange",function g(){if(document.readyState==="complete"){x();document.detachEvent("onreadystatechange",g)}});window.attachEvent("load",function k(){x();window.detachEvent("load",k)});(function A(){setTimeout(function(){if(document.activeElement!==null){x();return}if(!h.loaded){A()}},10)})()})(X);
/*! XUP -> DOM/Layout */
(function(f){var d=(function(){var m=["","-moz-","-webkit-","-o-"],p=document.createElement("div"),o=false;for(var k=0,j=m.length;k<j;++k){var n=m[k]+"box-sizing";p.style.cssText=n+":border-box";if(p.style.cssText.indexOf("border-box")>-1){o=n;break}}p=null;return o})();function c(j,l){var k=j.style("border-"+l+"-width"),i=j.style("border-"+l+"-style");if(i==="none"){return 0}switch(k){case"thin":return 1;case"medium":return 3;case"thick":return 5}return parseInt(k)}f.fn.extend({offset:function h(m){var t=f(this[0]),n=[t.prop("offsetWidth"),t.prop("offsetHeight"),t.prop("offsetTop"),t.prop("offsetLeft")];if(t.style("display")==="none"){var l={visibility:t.style("visibility"),position:t.style("position")};var p="visibility:hidden";if(["absolute","fixed"].indexOf(l.position)==-1){p+=";position:absolute"}t.style(p).show();n[0]=t.prop("offsetWidth");n[1]=t.prop("offsetHeight");n[2]=t.prop("offsetTop");n[3]=t.prop("offsetLeft");t.style(l).hide()}var w=parseInt(this.style("margin-left")),u=parseInt(this.style("margin-right")),r=parseInt(this.style("margin-top")),i=parseInt(this.style("margin-bottom"));var x=parseInt(this.style("padding-left")),v=parseInt(this.style("padding-right")),s=parseInt(this.style("padding-top")),j=parseInt(this.style("padding-bottom"));var k=c(this,"left"),z=c(this,"right"),y=c(this,"top"),o=c(this,"bottom");var q=d?t.style(d):"content-box";switch(m||q.substring(0,q.indexOf("-"))){case"fixed":if(d===false){n[0]-=k+z+x+v;n[1]-=y+o+s+j}else{switch(q){case"border-box":break;case"padding-box":n[0]-=k+z;n[1]-=y+o;break;case"content-box":n[0]-=k+z+x+v;n[1]-=y+o+s+j}}n[2]-=r;n[3]-=w;break;case"margin":n[0]+=w+u;n[1]+=r+i;n[2]-=r;n[3]-=w;break;case"border":break;default:case"content":n[0]-=x+v+k+z;n[1]-=s+j+y+o;n[2]+=y+s;n[3]+=k+x;break;case"padding":n[0]-=k+z;n[1]-=y+o;n[2]+=y;n[3]+=k}n.width=n[0];n.height=n[1];n.top=n[2];n.left=n[3];return n},width:function e(i){return this.offset(i).width},height:function b(i){return this.offset(i).height},visible:function g(){return this.style("display")!=="none"&&this.style("visibility")!=="hidden"},absolutize:function a(){if(["absolute","fixed"].indexOf(this.style("position"))>-1){return this}var i=this.offset("fixed");return this.style({position:"absolute",top:i.top+"px",left:i.left+"px",width:i.width+"px",height:i.height+"px"})}})})(X);
/*! XUP -> DOM/Storage */
(function(g,i,m){var f=2,q={};function h(s){if(s===i){return 1}if(s===m){return 2}var r=s.uniqueID||s._xsid||++f;if(!s._xsid){s._xsid=r}return r}function b(u,t,s){var r=h(u);if(typeof q[r]==="undefined"){q[r]={}}q[r][t]=s}function c(t,s){var r=h(t);if(typeof q[r]!=="undefined"&&typeof q[r][s]!=="undefined"){return q[r][s]}return null}var e=(function(){try{sessionStorage;sessionStorage.setItem("x_test","passed");var s=sessionStorage.getItem("x_test");sessionStorage.removeItem("x_test");return s==="passed"}catch(r){return false}})();g.store=function n(s,r){if(!e){return b(i,s,r)}if(typeof r==="object"){r="!json!"+JSON.stringify(r)}sessionStorage.setItem(s,r)};g.fetch=function a(s,t){var u=typeof t!=="undefined";if(!e){var r=c(i,s);return(u&&r===null)?t:r}var r=sessionStorage.getItem(s);if(r===null){return u?t:r}if(r.substr(0,6)==="!json!"){r=JSON.parse(r.substring(6))}return r};g.unset=function p(r){if(!e){var s=h(i);if(typeof q[s]!=="undefined"&&typeof q[s][r]!=="undefined"){delete q[s][r]}return}sessionStorage.removeItem(r)};g.isset=function l(r){if(!e){var s=h(i);return typeof q[s]!=="undefined"&&typeof q[s][r]!=="undefined"}return sessionStorage.getItem(r)!==null};g.fn.extend({store:function n(s,r){b(this[0],s,r);return this},storeAll:function o(s,r){return this.each(function(t){b(t,s,r)})},fetch:function a(s,t){var r=c(this[0],s);return(typeof t!=="undefined"&&r===null)?t:r},fetchAll:function d(r,t){var s=[],u=typeof t!=="undefined";this.forEach(function(x){var w=c(x,r);if(u){s.push(w===null?t:w)}});return s},isset:function l(r){var s=h(this[0]);return typeof q[s]!=="undefined"&&typeof q[s][r]!=="undefined"},issetAll:function k(s){for(var t=0,r=this.length;t<r;++t){if(!g(this[0]).isset(s)){return false}}return true},unset:function p(r){var s=h(this[0]);if(typeof q[s]!=="undefined"&&typeof q[s][r]!=="undefined"){delete q[s][r]}return this},unsetAll:function j(r){return this.each(function(s){g(s).unset(r)})}});g.fn.retrieve=g.fn.fetch})(X,window,document);
/*! XUP -> Effect */
(function(j){var a=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var h=(function(){if(!document.documentElement.style.getPropertyValue){return false}var w=document.createElement("div");var v={o:"o",webkit:"webkit",moz:"",ms:"MS","":""},u=false,s={};for(var r in v){var t=r?"-"+r+"-":"";w.style.cssText=t+"transition-property:all";if(w.style.getPropertyValue(t+"transition-property")=="all"){u=t;s=v[r];break}}w=null;if(u===false){return false}function q(x){return s?s+x:x.toLowerCase()}return{vendor:u,tevent:q("TransitionEnd"),aevent:q("AnimationEnd")}})();var l={fast:0.2,slow:2,instant:0.1,"default":0.5};var p={duration:0.5,delay:0,ease:"linear"};function o(q){return(["number","string"].indexOf(typeof q)>-1)}function n(q){if(isNaN(q)){return l[q]||0.5}return q}function k(r,s){if(r.delay){var q=r.delay;r.delay=0;setTimeout(s.bind(s),q*1000);return}s()}function i(q,r){if(typeof q==="function"){r=q,q={}}if(!q){q={}}if(!r){r=j.noop}if(o(q)){q={duration:q}}return{options:q,callback:r}}j.fx={support:false};if(h){j.extend(j.fx,h,{support:true})}j.fx.frame=(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||j.defer).bind(window);j.fn.anim=function f(u,s,x){var q="",r="",w;if(typeof s==="function"){x=s,s={}}if(o(s)){s={duration:s}}s=j.extend({},p,s||{});s.duration=n(s.duration);if(u.indexOf(":")===-1){w=h.aevent;q=r=h.vendor+"animation:"+u+" "+s.duration+"s "+s.ease+" "+s.delay+"s"}else{this.each(function(A){var F=document.defaultView.getComputedStyle(A);var C={},H="";w=h.tevent;for(var D=0,I=u.split(";"),B=I.length;D<B;++D){var E=I[D].split(":"),y=E[0],z=E[1];if(!y){continue}if(a.test(y)){H+=" "+y+"("+z+")";continue}var G=A.style.getPropertyValue(y);if(G===""||G==="auto"){C[y]=F.getPropertyValue(y)}r+=";"+y+":"+z}q=r+";"+h.vendor+"transition:all "+s.duration+"s "+s.ease+" "+s.delay+"s";if(C){A.style.cssText+=";"+C}if(H){q+=";"+h.vendor+"transform:"+H}})}var v=false,t=function(){if(v){return}j(document).off(w,t,true);j.defer(function(){this.each(function(z){var y=z.style;y.removeProperty(h.vendor+"transition");y.removeProperty(h.vendor+"animation")});x&&j.defer(x,this);if(s.silent){return}j(document).fire("x:transitionend")}.bind(this));v=true}.bind(this);j(document).on(w,t,true);j.defer(function(){this.style(q)}.bind(this));setTimeout(t,(((s.duration||0.1)+(s.delay||0))+2)*1000);return this};if(!h){j.fn.anim=function f(z,B,y){if(typeof B==="function"){y=B,B={}}if(z.indexOf(":")>-1){var u="",x="";for(var v=0,A=z.split(";"),t=A.length;v<t;++v){var w=A[v].split(":"),q=w[0],r=w[1];if(!q){continue}if(a.test(q)){x+=" "+q+"("+r+")";continue}u+=";"+q+":"+r}if(x){u+=";-ms-transform:"+x}this.each(function(s){s.style.cssText+=u})}y&&y(this);if(B&&B.silent){return this}j(document).fire("x:transitionend");return this}}j.fn.transform=function m(s){var r=h.vendor+"transform",q=r+":";if(s===null||s==="none"){return this.style(r,null)}var t=this.style(r);if(t!=="none"){q+=this.style(r)}if(!j.isString(s)){j.each(s,function(w,u){q+=" "+u+"(";if(j.isArray(w)){w=w.join(",")}q+=w+")"})}else{q+=s}return this.style(q)};j.fn.extend({fade:function e(r,s){var q=i(r,s);q.callback=j.wrap(q.callback,function(u,t){t.hide();j.defer(u,t)});k(q.options,function(){this.style("opacity:1");this.defer("anim","opacity:0",q.options,q.callback)}.bind(this));return this},appear:function b(r,s){var q=i(r,s);k(q.options,function(){this.style("opacity:0").show();this.defer("anim","opacity:1",q.options,q.callback)}.bind(this));return this},puff:function d(r,s){var q=i(r,s);return this.absolutize().forEach(function(t){j(t).anim("opacity:0;scale:4",q.options,function(u){u.remove();q.callback(this)}.bind(this))}.bind(this))},shrink:function g(r,s){var q=i(r,s);return this.anim("scale:0",q.options,function(t){t.hide();q.callback&&j.defer(q.callback,t)})},grow:function c(r,s){var q=i(r,s);return this.show().defer("anim","scale:1",q.options,q.callback)}})})(X);
/*! XUP -> Support */
(function(a){a.support={fileapi:!!(window.File&&window.FileList&&window.FileReader),fileinput:(function(){try{var b=document.createElement('<input type="file">')}catch(c){var b=document.createElement("input");b.type="file"}var d=typeof b.files!=="undefined";b=null;return d})(),formdata:!!(window.FormData),xhr2:!!(window.XMLHttpRequestUpload),url:!!(window.URL||window.webkitURL),progress:(function(){var b=document.createElement("progress"),c=typeof b.max!=="undefined";b=null;return c})(),datatransfer:!!(window.DataTransfer)||/\bchrome\/\b/i.test(navigator.userAgent),css:{}};(function(){function b(f){var h=f.replace(/[_-](.)/g,function(e){return e[1].toUpperCase()});if(typeof a.support.css[h]!=="undefined"){return a.support.css[h]}var d="*:"+f,c=false;try{document.querySelector(d);c=true}catch(g){}return a.support.css[h]=c}if(typeof document.querySelector==="undefined"){b=function(){return false}}["target","last-child"].forEach(b);a.support.selector=b})()})(X);
/*! XUP -> Ajax/JSONP */
X.Request=(function(e,i,g){var o=0;var u=e.support.xhr2,m=e.support.formdata,b=e.support.fileapi;function t(z){this.opts=z}t.prototype={constructor:t,timer:null,startTimer:function j(A,z){this.timer=setTimeout(z,A*1000)},stopTimer:function q(){if(this.timer!==null){clearTimeout(this.timer);this.timer=null}},ontimeout:function f(){this.opts.onTimeout();this.abort()},oncomplete:function k(){this.stopTimer();this.opts.onComplete()},abort:function d(){throw new Error("Request#abort is abstract!")}};t.Ajax=function v(z,C){t.call(this,C);this.opts=e.extend({},t.Ajax.Options,this.opts);this.opts.method=(function(F){switch(F=F.toUpperCase()){case"GET":case"POST":case"PUT":case"OPTIONS":case"HEAD":case"DELETE":break;default:F="GET"}return F})(this.opts.method);e.extend(this.opts.headers,t.Ajax.Headers);this.xhr=new XMLHttpRequest;this.xhr.open(this.opts.method,z,this.opts.async);if(u===true){this.xhr.addEventListener("load",this.onload.bind(this),false);this.xhr.addEventListener("error",this.onerror.bind(this),false);this.xhr.addEventListener("abort",this.onabort.bind(this),false);if((b&&this.opts.send instanceof File)||(m&&this.opts.send instanceof FormData)){this.xhr.upload.addEventListener("load",this.ondownload.bind(this),false);this.xhr.upload.addEventListener("progress",this.onprogress.bind(this),false)}}else{try{this.xhr.addEventListener("load",this.onload.bind(this),false);this.xhr.addEventListener("error",this.onerror.bind(this),false);this.xhr.addEventListener("abort",this.onabort.bind(this),false)}catch(D){this.legacyRequest=true;this.xhr.onreadystatechange=this.onstatechange.bind(this)}}e.each(this.opts.headers,function(G,F){this.xhr.setRequestHeader(F,G)},this);this.xhr.withCredentials=this.opts.withCredentials;if(u&&this.opts.type){try{var A=this.opts.type.toLowerCase();if(A==="xml"){A="document"}this.xhr.responseType=A;this.emulateRequestType=(this.xhr.responseType!==A)}catch(D){this.emulateRequestType=true}}var B=this.opts.contentType,E=this.opts.charset;if(b&&this.opts.send instanceof File){B="application/octet-stream";E="x-user-defined-binary"}else{if(this.opts.timeout>0){if("ontimeout" in this.xhr){this.xhr.timeout=this.opts.timeout*1000;if(!this.xhr.addEventListener){this.xhr.ontimeout=this.ontimeout.bind(this)}else{this.xhr.addEventListener("timeout",this.ontimeout.bind(this),false)}}else{this.startTimer(this.opts.timeout,this.ontimeout.bind(this))}}}this.xhr.setRequestHeader("Content-Type",B+"; Charset="+E);this.xhr.send(this.opts.send);e.defer(function(){this.xhr.readyState}.bind(this))};t.Ajax.prototype=e.inherit(t,{constructor:t.Ajax,emulateRequestType:false,legacyRequest:false,abort:function d(){this.xhr.abort()},onstatechange:function s(){if(this.xhr.readyState===4){this.onload()}},onload:function w(){var B,A=this.xhr.status,z=null;if(A!==0&&(A<200||A>304)){return this.onerror()}B=this.xhr.getResponseHeader("Content-Type");if(u&&!this.emulateRequestType&&typeof this.xhr.response!=="undefined"){z=this.xhr.response}else{switch(this.opts.type.toLowerCase()){case"xml":case"document":if(this.xhr.responseXML){z=this.xhr.responseXML}else{try{var D=new DOMParser;z=D.parseFromString(this.xhr.responseText,"text/xml")}catch(C){z=new ActiveXObject("Microsoft.XMLDOM");z.async="false";z.loadXML(this.xhr.responseText)}}break;default:case"text":z=this.xhr.responseText;break;case"json":z=JSON.parse(this.xhr.responseText);break;case"blob":case"arraybuffer":throw new Error(this.opts.type+" can not be emulated")}}if(z===null){this.opts.onFailure(this.xhr);this.oncomplete();return}this.opts.onSuccess(z,this.xhr);this.oncomplete()},onerror:function a(){this.opts.onFailure(this.xhr);this.oncomplete()},onabort:function n(){this.opts.onAbort(this.xhr);this.oncomplete()},ondownload:function y(){this.opts.onUploaded(this.xhr);this.opts.onDownload(this.xhr)},onprogress:function c(z){if(!z.lengthComputable){return}this.opts.onProgress({total:z.total,loaded:z.loaded})}});t.Ajax.Options={type:"text",send:null,async:true,method:"GET",timeout:30,charset:"UTF-8",headers:{},contentType:"application/x-www-form-urlencoded",withCredentials:true,onAbort:e.noop,onSuccess:e.noop,onFailure:e.noop,onTimeout:e.noop,onComplete:e.noop,onProgress:e.noop,onDownload:e.noop,onUploaded:e.noop};t.Ajax.Headers={"X-Requested-With":"XMLHttpRequest",Accept:"text/javascript, text/html, application/xml, text/xml, */*"};t.JSONP=function r(A,z){t.call(this,z);this.opts=e.extend({},t.JSONP.Options,this.opts);this.callback="_x_jsonp_ref_"+o++;i[this.callback]=this.onload.bind(this);A+=(A.indexOf("?")==-1?"?":"&")+this.opts.param+"="+this.callback;if(this.opts.timeout>0){this.startTimer(this.opts.timeout,this.onerror.bind(this))}this.script=new e("script",{type:"text/javascript",src:A}).on("error",this.onerror.bind(this)).on("abort",this.onabort.bind(this)).prop("async",!!this.opts.async).append(document.body)};t.JSONP.prototype=e.inherit(t,{constructor:t.JSONP,userAborted:false,preventEvents:false,abort:function d(){i[this.callback]=e.noop;this.userAborted=true;this.onabort()},cleanup:function l(){if(i[this.callback]===g){return}try{delete i[this.callback]}catch(z){i[this.callback]=g}},onload:function w(z){if(this.preventEvents){return this.cleanup()}this.opts.onSuccess(z);this.oncomplete()},onabort:function n(){if(this.preventEvents){return this.cleanup()}this.opts.onAbort();this.oncomplete()},onerror:function a(){if(this.preventEvents){return this.cleanup()}this.opts.onFailure();this.oncomplete()},oncomplete:function k(){t.prototype.oncomplete.call(this);if(this.script){this.script.remove()}if(this.userAborted===true){this.preventEvents=true;setTimeout(this.cleanup.bind(this),5000);return}this.cleanup()}});t.JSONP.Options={async:true,param:"jsonp",timeout:60,onAbort:e.noop,onSuccess:e.noop,onFailure:e.noop,onTimeout:e.noop,onComplete:e.noop};t.Drivers={jsonp:"JSONP"};["xml","json","document","text","arraybuffer","blob"].forEach(function(z){t.Drivers[z]="Ajax"});e.ajax=function p(A,z){var B=(z.type||"text").toLowerCase();if(typeof t.Drivers[B]==="undefined"){B="text"}return new t[t.Drivers[B]](A,z)};e.jsonp=function x(A,z){return e.ajax(A,e.extend({},z,{type:"jsonp"}))};e.fn.load=function h(A,z){var B=e.noop;if(z.onSuccess){B=z.onSuccess}e.ajax(A,{type:"text",onSuccess:function(C){this.update(C);e.defer(B,C)}.bind(this)});return this};return t})(X,window);
/*! XUP -> URL */
(function(w){var A=(function(){var Y=1,M=2,ak=4,O=8,al=16,ao=32;var T=/[=\[\]]/,aj=/^[0-9]+$/;var af=Object.prototype.toString;var W=af.call(""),ap=af.call({}),ag=af.call([]),N=af.call(0),ae=af.call(true),ab=af.call(new Date);var S={next:function ac(){if(this.offs+1>this.slen){return null}return this.data.charAt(this.offs++)},tokenize:function K(aw,ay){var ax=[],au,at=aw.split(ay||"&");for(var ar=0,aq=at.length;ar<aq;++ar){this.data=at[ar];this.slen=this.data.length;this.offs=0;while(au=this.next()){switch(au){case"=":ax.push(Y);break;case"[":ax.push(M);break;case"]":ax.push(ak);break;default:var av=au;while(au=this.next()){if(T.test(au)){--this.offs;break}av+=au}if(aj.test(av)){ax.push(ao,parseInt(av))}else{ax.push(al,decodeURIComponent(av))}}}ax.push(O)}delete this.data;delete this.slen;delete this.offs;return ax}};var ai={parse:function aa(at,au){this.delim=au||"&";this.tokens=S.tokenize(at,au);var ar={};while(this.tokens.length){this.expect(al);var aq=this.next();if(typeof ar[aq]==="undefined"){ar[aq]=this.init()}this.collect(ar[aq],ar,aq)}return ar},collect:function V(au,aq,at){var ar;switch(ar=this.next()){case M:this.access(au);break;case Y:this.expect(al|ao);aq[at]=this.next();this.expect(O);break;case O:aq[at]=true;break;default:throw new Error("Syntax error: unexpected "+this.lookup(ar)+', expected "[", "=" or "'+this.delim+'"')}},access:function Q(aw){var av;switch(av=this.next()){case ak:var au=aw.push(this.init())-1;this.collect(aw[au],aw,au);break;case ao:var ar=this.next();this.expect(ak);if(aw.length<=ar){for(var at=aw.length;at<ar;++at){aw.push(null)}aw.push(this.init())}this.collect(aw[ar],aw,ar);break;case al:var aq=this.next();this.expect(ak);if(typeof aw[aq]=="undefined"){aw[aq]=this.init()}this.collect(aw[aq],aw,aq);break;default:throw new Error("Syntax error: unexpected "+this.lookup(av)+', expected "]", (number) or (string)')}},ahead:function L(aq){return this.tokens[aq||0]},init:function ah(){var aq;switch(this.ahead()){case M:switch(aq=this.ahead(1)){case ak:case ao:return[];case al:return{};default:throw new Error("Syntax error: unexpected "+this.lookup(aq)+', expecting "]", (number) or (string)')}break;default:return}},lookup:function an(aq){switch(aq){case Y:return'"="';case M:return'"["';case ak:return'"]"';case al:return"(string)";case ao:return"(number)";case O:return'"'+this.delim+'"';default:return"?("+aq+")?"}},next:function ac(){return this.tokens.length?this.tokens.shift():null},expect:function P(at){if(this.tokens.length&&(this.tokens[0]&at)===0){var aq=[];for(var ar=0;ar<=32;ar+=ar){if(ar&at!==0){aq.push(an(ar))}}throw new Error("Syntax error: unexpected "+this.lookup(this.tokens[0])+", expecting "+aq.join(" or "))}if(this.tokens.length){this.tokens.shift()}}};var U={parse:function aa(ar,av){this.delim=av||"&";var aq=[],au;for(var at in ar){if(!ar.hasOwnProperty(at)){continue}if((au=this.serialize(ar[at],at))!==""){aq.push(au)}}return aq.join(this.delim)},serialize:function ad(ar,aq){if(typeof ar==="undefined"||ar===null){return""}switch(af.call(ar)){case ab:return aq+"="+(+ar);case W:ar=encodeURIComponent(ar);case N:return aq+"="+ar;case ae:return aq+"="+(ar?1:0);case ag:case ap:return this.access(ar,aq);default:throw new Error('Parse error: value for key "'+aq+'" is not serializable')}},access:function Q(av,at){var aq=[];if(af.call(av)===ag){for(var au=0,ar=av.length;au<ar;++au){this.handle(aq,at,av[au],au)}}else{for(var au in av){if(av.hasOwnProperty(au)){this.handle(aq,at,av[au],au)}}}return aq.join(this.delim)},handle:function am(aq,ar,au,av){var at;if((at=this.serialize(au,ar+"["+av+"]"))!==""){aq.push(at)}}};return{decode:function Z(aq,ar){return ai.parse(aq,ar)},encode:function R(aq,ar){return U.parse(aq,ar)}}})();var D="[a-z\\-]+:(?:\\/\\/)?",o="(?:[^:@]+(?::[^@]+)?@)?",f="(?:(?:(?:\\d+\\.){3}\\d+)|(?:\\[[a-f0-9:]+\\]))",j="(?:(?:\\w+\\.)+[a-z]{2,}|\\w+|"+f+")",E="(?::\\d+)?",H="(?:\\/[^\\?#]*)*",c="(?:\\?[^#]+)?",J="(?:#.*)?";var z=new RegExp("^("+D+")("+o+")("+j+")("+E+")("+H+")("+c+")("+J+")$","i");var e=["scheme","login","host","port","path","search","hash"];function i(K){return K}function a(K){return(K&&K.substring(1))||""}var u={scheme:function v(K){if(!K){return"http"}K=K.toLowerCase();var L=-1;if((L=K.indexOf(":"))>-1){return K.substring(0,L)}return K},login:function x(L){if(!L){return{username:"",password:""}}var K=L.substring(0,L.length-1).split(":");return{username:K[0]||"",password:K[1]||""}},port:function B(K){if(!K){return 0}return parseInt(K.substring(1))},host:i,path:i,search:a,hash:a};var b={http:80,https:443,ftp:21,ssh:22};w.URL=function t(K){if(!(this instanceof w.URL)){return new w.URL(K)}this.href=K||(window?window.location.href:"");this.parse()};w.URL.parse=function m(K){return(new w.URL(K)).tokens};w.URL.build=function C(L){var K=new w.URL();w.extend(K.tokens,L);return K.toString()};w.URL.decodeQuery=function r(K){return A.decode(K)};w.URL.encodeQuery=function F(K){return A.encode(K)};w.URL.prototype={constructor:w.URL,tokens:{},parse:function m(M){if(arguments.length===1){this.tokens=w.URL.parse(M);return this}if(!this.href){this.tokens={};e.forEach(function(P){this.tokens[P]=""},this);this.tokens.port=0;this.tokens.login={username:"",password:""};return}var L=this.href.substring(0,this.href.indexOf(":"));switch(L.toLowerCase()){case"file":var O;if(this.href.substring(7,17)==="localhost/"){O=this.href.substring(17)}else{O=this.href.substring(8)}this.tokens={scheme:"file",host:"{localhost}",path:O};return;case"http":case"sftp":case"ssh":case"ftp":case"ftps":case"git":case"nntp":case"news":case"mailto":break;default:this.href="http://"+this.href}var N=this.href.match(z),K={};e.forEach(function(Q,P){K[Q]=u[Q](N[P+1])},this);this.tokens=K},search:function G(K){if(arguments.length===0){if(!this.tokens.search){return{}}return A.decode(this.tokens.search)}this.tokens.search=w.isString(K)?K:A.encode(K);return this},login:function x(K,L){if(arguments.length===0){return this.tokens.login}if(arguments.length===2){this.tokens.login={username:K,password:L};return this}this.tokens.login=u.login(K);return this},port:function B(K){if(arguments.length===0){if(this.tokens.port===0){return b[this.scheme()]||null}return this.tokens.port}this.tokens.port=parseInt(K)||null;return this},sameOrigin:function l(K){var L=new w.URL(K);return(this.scheme()===L.scheme())&&(this.host()===L.host())&&(this.port()===L.port())},toString:function d(){if(!this.tokens.scheme){throw new Error("URL: missing scheme")}var K=this.tokens.scheme;if(typeof g[K]=="undefined"){throw new Error('URL: scheme "'+K+'" has no serializer')}return g[K](this)}};var g={http:function h(K){if(!K.tokens.host){throw new Error("URL: missing host")}return I(K,"scheme","","://")+y(K)+I(K,"host")+I(K,"port",":")+I(K,"path","/","","/")+I(K,"search","?")+I(K,"hash","#")},mailto:function k(K){if(!K.tokens.host){throw new Error("URL: missing host")}var L=(K.tokens.login&&K.tokens.login.username)||"";if(L){L+="@"}return I(K,"scheme","",":")+L+I(K,"host");+I(K,"search","?")},nntp:function p(K){if(!K.tokens.host){throw new Error("URL: missing host")}return I(K,"scheme","",":")+I(K,"host")+I(K,"path","/")},file:function q(K){if(!K.tokens.path){throw new Error("URL: missing path")}return I(K,"scheme","","://")+I(K,"path","/")}};(function(){var K=g.http;w.extend(g,{news:g.nntp,https:K,ssh:K,sftp:K,ftp:K,ftps:K,git:K})})();function I(L,K,N,M,P){if(L.tokens[K]){var O=L.tokens[K];if(N&&O.substring(0,N.length)!==N){O=N+O}if(M&&O.substring(O.length-M.length)!==M){O+=M}return O}return P||""}function y(K,M){if(K.tokens.login&&K.tokens.login.username){var L=K.tokens.login.username;if(K.tokens.login.password){L+=":"+K.tokens.login.password}return L+"@"}return M||""}function n(K){return function(L){if(arguments.length===0){return this.tokens[K]}this.tokens[K]=u[K](L);return this}}function s(K){return function(L){if(arguments.length===0){return this.tokens.login[K]}this.tokens.login[K]=L;return this}}w.extend(w.URL.prototype,{scheme:n("scheme"),host:n("host"),path:n("path"),hash:n("hash"),username:s("username"),password:s("password")})})(X);
/*! XUP -> Timer */
X.Timer=(function(g,d){function k(p,o,n){return(o?function(){p(this.fire.bind(this,"done"))}:function(){p();this.fire("done")}).bind(n)}function i(){this.events={start:[],stop:[],done:[]}}i.prototype={constructor:i,on:function j(o,n){this.events[o].push(n);return this},off:function c(o,n){if(arguments.length===1){this.events[o]=[];return this}this.events[o]=this.events[o].filter(function(p,q){return p!==n});return this},fire:function b(n){this.events[n].forEach(function(o){o.call(this)},this);return this}};function m(n,p,o){if(o===d){o=p,p=false}if(typeof o!=="function"){throw new TypeError("object must be callable")}this.ms=n;this.fn=k(o,p,this);i.call(this)}m.prototype=g.inherit(i,{constructor:m,timer:null,start:function a(){this.timer=setTimeout(this.fn,this.ms);return this.fire("start")},stop:function l(){clearTimeout(this.timer);return this.fire("stop")}});m.Queue=function f(){this.timers=g.slice.call(arguments);this.length=this.timers.length;i.call(this);this.events.next=[]};m.Queue.prototype=g.inherit(i,{constructor:m.Queue,start:function a(){this.fire("start");this.exec(0);return this},exec:function e(n){if(n>=this.length){return this.fire("done")}var o=this.timers[n];o.on("done",this.next.bind(this,n)).start()},next:function h(n){this.fire("next");this.exec(n+1)},stop:function l(){if(this.cindex<this.length){this.timers[this.cindex].stop()}return this}});return m})(X);
/*! XUP -> Drag */
(function(g,b){var d=("ontouchstart" in b.documentElement)?{start:"touchstart",move:"touchmove",stop:"touchend"}:{start:"mousedown",move:"mousemove",stop:"mouseup"};function f(h,i){return{x:h.x-i.left,y:h.y-i.top}}function c(i,h,j,k){if(i){if(k.top<i.top){k.top=i.top}if(k.left<i.left){k.left=i.left}if(j.height+k.top>i.height+i.top){k.top=(i.height-j.height)+i.top}if(j.width+k.left>i.width+i.left){k.left=(i.width-j.width)+i.left}}h.style({top:k.top+"px",left:k.left+"px"})}function e(i,h){if(i==="@parent"){i=h.parent()}return $(i).offset("content")}$.fn.draggable=function a(j){if(arguments.length===0){j={}}if(j===false){return this.each(function(m){m=$(m);var l=m.fetch("draggable");if(!l){return}m.style(l[2]);(l[1]?$(l[1],m):m).off(d.start,l[0]);m.unset("draggable")})}var h=j.grab||false,k=j.excl||false,i=j.area||false;return this.each(function(m){if($.isFunction(m.__dragevent)){return}var l={position:m.style.position,width:m.style.width,height:m.style.height,top:m.style.top,left:m.style.left};m=$(m).absolutize();var n;(h?$(h,m):m).on(d.start,n=function n(q){if(k&&$(q.target).matches(k)){return true}m.fire("x:dragstart");var t=m.offset("margin"),s=f($(q).stop().pointer(),t),r=$(b);var o,u=i&&e(i,m)||false;r.on(d.move,o=function o(v){var w=$(v).stop().pointer();c(u,m,t,{top:(w.y-s.y),left:(w.x-s.x)})}.bind(this));r.on(d.stop,function p(){m.fire("x:dragstop");r.off(d.move,o);r.off(d.stop,p)})});$(m).store("draggable",[n,h,l])})}})(X,document);